<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quill 2.0.3 - Hierarchical List Demo</title>
    <link href="https://cdn.jsdelivr.net/npm/quill@2.0.3/dist/quill.snow.css" rel="stylesheet">
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 800px;
            margin: 50px auto;
            padding: 20px;
        }

        #editor {
            height: 450px;
        }

        .ql-editor li[data-list="checked"]::before {
            background: #000;
        }

        /* Custom toolbar button for hierarchical list */
        .ql-snow .ql-picker.ql-list-hierarchical,
        .ql-snow .ql-picker-label.ql-list-hierarchical,
        .ql-snow button.ql-list-hierarchical {
            width: auto;
        }

        .ql-snow button.ql-list-hierarchical .ql-stroke {
            stroke: currentColor;
        }

        .ql-snow button.ql-list-hierarchical .ql-fill {
            fill: currentColor;
        }
    </style>
</head>

<body>
    <h1>Quill 2.0.3 - Hierarchical List Demo</h1>
    <p><strong>Usage:</strong></p>
    <ul>
        <li>Click the <strong>hierarchical list icon</strong> (☰ with numbers) to create a hierarchical list</li>
        <li>Or click "1." button for standard ordered list, then use Tab to indent</li>
        <li>Select a list item and press <strong>Tab</strong> to indent (nested level)</li>
        <li>Press <strong>Shift+Tab</strong> to outdent</li>
        <li>The numbering will update automatically: 1 → 1.1 → 1.1.1</li>
    </ul>
    <div id="editor"></div>

    <script src="https://cdn.jsdelivr.net/npm/quill@2.0.3/dist/quill.js"></script>
    <script>
        // Register custom SVG icon for hierarchical list
        const icons = Quill.import('ui/icons');

        // Register with both possible key formats
        icons['list']['hierarchical'] = `<svg viewBox="0 0 18 18">
            <line class="ql-stroke" x1="3" y1="4" x2="15" y2="4"></line>
            <line class="ql-stroke" x1="3" y1="9" x2="15" y2="9"></line>
            <line class="ql-stroke" x1="3" y1="14" x2="15" y2="14"></line>
            <line class="ql-stroke" x1="7" y1="3" x2="7" y2="5"></line>
            <line class="ql-stroke" x1="11" y1="3" x2="11" y2="5"></line>
            <line class="ql-stroke" x1="7" y1="8" x2="7" y2="10"></line>
            <line class="ql-stroke" x1="11" y1="8" x2="11" y2="10"></line>
            <line class="ql-stroke" x1="7" y1="13" x2="7" y2="15"></line>
            <line class="ql-stroke" x1="11" y1="13" x2="11" y2="15"></line>
        </svg>`;

        // Initialize Quill editor
        const quill = new Quill('#editor', {
            theme: 'snow',
            modules: {
                toolbar: {
                    container: [
                        [{header: [1, 2, 3, false]}],
                        ['bold', 'italic', 'underline', 'strike'],
                        [{color: []}, {background: []}],
                        [{list: 'ordered'}, {list: 'bullet'}, {list: 'hierarchical'}, {indent: '-1'}, {indent: '+1'}],
                        ['link', 'image'],
                        ['clean']
                    ],
                }
            }
        });
    </script>
</body>

</html>
